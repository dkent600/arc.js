<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@daostack/arc.js</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@daostack/arc.js</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> @daostack/arc.js</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p><a href="http://travis-ci.org/daostack/arc.js"><img src="https://api.travis-ci.org/daostack/arc.js.svg?branch=master" alt="Build Status"></a>
				<a href="http://www.npmjs.org/package/@daostack/arc.js"><img src="http://img.shields.io/npm/v/@daostack/arc.js.svg?style=flat-square" alt="NPM Package"></a></p>
				<h1 id="daostack-arc-js">DAOstack Arc.js</h1>
				<p>DAOstack Arc.js sits just above <a href="http://github.com/daostack/daostack">DAOstack Arc</a> on the DAO stack.  It is a library that facilitates javascript application access to the DAOstack Arc ethereum smart contracts.</p>
				<p>For more information about Arc contracts and the entire DAOstack ecosystem, please refer to the <a href="https://daostack.github.io/arc/">Arc documentation</a>.</p>
				<h2 id="table-of-contents">Table of Contents</h2>
				<!-- Table of contents generated generated by http://tableofcontent.eu -->
				<ul>
					<li><a href="#daostack-arcjs">DAOstack Arc.js</a><ul>
							<li><a href="#table-of-contents">Table of Contents</a></li>
							<li><a href="#getting-started">Getting Started</a><ul>
									<li><a href="#installation">Installation</a></li>
									<li><a href="#setting-up-a-testnet-with-arc-contracts">Setting up a Testnet with Arc Contracts</a></li>
									<li><a href="#using-the-arcjs-library-in-your-code">Using the Arc.js Library in your Code</a><ul>
											<li><a href="#importing-arcjs">Importing Arc.js</a></li>
											<li><a href="#configuring-arcjs">Configuring Arc.js</a></li>
											<li><a href="#working-with-daos-and-arc-contracts">Working with DAOs and Arc Contracts</a></li>
										</ul>
									</li>
								</ul>
							</li>
							<li><a href="#working-with-daos">Working with DAOs</a><ul>
									<li><a href="#create-a-new-dao-with-all-defaults">Create a new DAO with all defaults</a></li>
									<li><a href="#create-a-new-dao-with-founders">Create a new DAO with founders</a></li>
									<li><a href="#create-a-new-dao-with-schemes">Create a new DAO with schemes</a></li>
									<li><a href="#create-a-new-dao-overriding-the-default-voting-machine">Create a new DAO overriding the default voting machine</a><ul>
											<li><a href="#root-level-applying-to-all-schemes">Root-level, applying to all schemes</a></li>
											<li><a href="#with-alternate-absolutevote-voting-machine-address">With alternate AbsoluteVote voting machine address</a></li>
											<li><a href="#with-genesisprotocol">With GenesisProtocol</a></li>
											<li><a href="#scheme-specific">Scheme-specific</a></li>
										</ul>
									</li>
									<li><a href="#create-a-new-dao-with-a-non-universal-controller">Create a new DAO with a non-Universal Controller</a></li>
									<li><a href="#create-a-new-dao-with-a-non-default-daocreator-scheme">Create a new DAO with a non-default DaoCreator scheme</a></li>
									<li><a href="#get-a-previously-created-dao">Get a previously-created DAO</a></li>
									<li><a href="#get-the-daostack-genesis-dao">Get the DAOstack Genesis DAO</a></li>
								</ul>
							</li>
							<li><a href="#using-the-arc-contracts">Using the Arc Contracts</a><ul>
									<li><a href="#categories-of-arc-contracts">Categories of Arc Contracts</a><ul>
											<li><a href="#schemes">Schemes</a></li>
											<li><a href="#voting-machines">Voting Machines</a></li>
											<li><a href="#global-constraints">Global Constraints</a></li>
											<li><a href="#others">Others</a></li>
										</ul>
									</li>
									<li><a href="#obtain-the-names-and-addresses-of-a-daos-schemes">Obtain the names and addresses of a DAO&#39;s schemes</a></li>
									<li><a href="#obtain-an-arcjs-wrapper-by-its-name">Obtain an Arc.js wrapper by its name</a><ul>
											<li><a href="#the-deployed-contract">The deployed contract</a></li>
											<li><a href="#at-a-specific-address">At a specific address</a></li>
											<li><a href="#via-the-dao">Via the DAO</a></li>
										</ul>
									</li>
									<li><a href="#obtain-a-wrapper-using-the-wrappers-factory-class">Obtain a wrapper using the wrapper&#39;s factory class</a><ul>
											<li><a href="#deployed">deployed</a></li>
											<li><a href="#new">new</a></li>
											<li><a href="#at">at</a></li>
										</ul>
									</li>
									<li><a href="#obtain-any-arc-contract-using-utilsrequirecontract">Obtain any Arc contract using Utils.requireContract</a></li>
									<li><a href="#obtain-a-dao-schemes-parameters">Obtain a DAO scheme&#39;s parameters</a></li>
								</ul>
							</li>
							<li><a href="#working-with-arcjs-scripts">Working with Arc.js Scripts</a></li>
							<li><a href="#deploying-to-other-testnets">Deploying to Other Testnets</a></li>
							<li><a href="#running-against-a-ganache-database">Running Against a Ganache Database</a></li>
							<li><a href="#contribute-to-arcjs">Contribute to Arc.js</a></li>
							<li><a href="#security">Security</a></li>
							<li><a href="#license">License</a></li>
						</ul>
					</li>
				</ul>
				<h2 id="getting-started">Getting Started</h2>
				<h3 id="installation">Installation</h3>
				<p>Ensure that <a href="http://nodejs.org/">NodeJS</a>, v9.4.0 or greater, is installed.</p>
				<p>Install the npm package into your project:</p>
				<pre><code class="lang-script">npm install @daostack/arc.js --save
</code></pre>
				<p>Now you can proceed with migrating contracts to a running testnet and configuring Arc.js in your application and environment.</p>
				<h3 id="setting-up-a-testnet-with-arc-contracts">Setting up a Testnet with Arc Contracts</h3>
				<p>Arc.js runs against an Ethereum network where it assumes that the Arc contracts have been migrated.  Out of the box, Arc.js can find contracts migrated to the mainnet. But for testing, you will need to tell it to migrate the Arc contracts to a testnet of your choice.  You can do this by running a few Arc.js scripts.</p>
				<p>For example, to deploy contracts to a ganache testnet, run the following scripts from the root of your application:</p>
				<p>On Linux and others <a href="http://github.com/daostack/arc.js/issues/64">until runAsync is fixed for Linux</a>, run this in a separate window of your own creation:</p>
				<pre><code class="lang-script">npm explore @daostack/arc.js -- npm start test.ganache.run
</code></pre>
				<p>On Windows: </p>
				<pre><code class="lang-script">npm explore @daostack/arc.js -- npm start test.ganache.runAsync
</code></pre>
				<p>Now migrate the Arc contracts to ganache:</p>
				<pre><code class="lang-script">npm explore @daostack/arc.js -- npm start migrateContracts
</code></pre>
				<p>Now when your app uses Arc.js, it will be running against ganache and the contracts you just migrated.</p>
				<p>For more on Arc.js scripts, see <a href="#working-with-arcjs-scripts">Working with Arc.js Scripts</a>.</p>
				<h3 id="using-the-arc-js-library-in-your-code">Using the Arc.js Library in your Code</h3>
				<h4 id="importing-arc-js">Importing Arc.js</h4>
				<p>Import everything from ArcJs as follows:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> ArcJs <span class="hljs-keyword">from</span> <span class="hljs-string">'@daostack/arc.js'</span>;
</code></pre>
				<h4 id="configuring-arc-js">Configuring Arc.js</h4>
				<p>The default configuration settings for Arc.js can be found in its <code>config/default.json</code> file. A few examples:</p>
				<pre><code class="lang-json">{
  <span class="hljs-attr">"providerUrl"</span>: <span class="hljs-string">"http://127.0.0.0:8545"</span>,
  <span class="hljs-attr">"network"</span>: <span class="hljs-string">"ganache"</span>,
  <span class="hljs-attr">"gasLimit"</span>: <span class="hljs-number">6015000</span>
}
</code></pre>
				<p>To obtain a configuration setting:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { Config } <span class="hljs-keyword">from</span> <span class="hljs-string">'@daostack/arc.js'</span>;
Config.get(<span class="hljs-string">'network'</span>);
</code></pre>
				<p>To override a configuration setting at runtime:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { Config } <span class="hljs-keyword">from</span> <span class="hljs-string">'@daostack/arc.js'</span>;
Config.set(<span class="hljs-string">'network'</span>, <span class="hljs-string">'kovan'</span>);
</code></pre>
				<p>You can also override the default configuration settings by setting values on properties of <code>node.env</code> (see <a href="http://nodejs.org/dist/latest-v9.x/docs/api/process.html#process-process-env">here</a>) with the same name as the corresponding arc.js configuration setting.  This enables you to use environment variables to control the arc.js configuration.</p>
				<h4 id="working-with-daos-and-arc-contracts">Working with DAOs and Arc Contracts</h4>
				<p>Now that you&#39;ve got Arc.js plugged into your application and configured, and contracts migrated to a running testnet, you are ready to start coding against DAOs and Arc contracts.  The following sections describe how.</p>
				<p>One thing to remember:  All token and reputation amounts should be expressed in Wei.</p>
				<h2 id="working-with-daos">Working with DAOs</h2>
				<p>Arc.js provides a class named &quot;DAO&quot; that enables you to create new DAOs and obtain information about them.</p>
				<h3 id="create-a-new-dao-with-all-defaults">Create a new DAO with all defaults</h3>
				<p>The simplest example of how to create a new DAO uses all defaults:  no schemes nor founders, using the Universal Controller and default DaoCreator scheme.  See <code>NewDaoConfig</code>.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> newDao = <span class="hljs-keyword">await</span> DAO.new({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"My New DAO"</span>,
  <span class="hljs-attr">tokenName</span>: <span class="hljs-string">"My new Token"</span>,
  <span class="hljs-attr">tokenSymbol</span>: <span class="hljs-string">"MNT"</span>
});
</code></pre>
				<p>Add and remove schemes later using <code>SchemeRegistrar</code>.</p>
				<h3 id="create-a-new-dao-with-founders">Create a new DAO with founders</h3>
				<p>Create a new DAO with founders by including a &quot;founders&quot; array.  This will automatically mint tokens and reputation to each founder.   See <code>NewDaoConfig</code>.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> newDao = <span class="hljs-keyword">await</span> DAO.new({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"My New DAO"</span>,
  <span class="hljs-attr">tokenName</span>: <span class="hljs-string">"My new Token"</span>,
  <span class="hljs-attr">tokenSymbol</span>: <span class="hljs-string">"MNT"</span>,
  <span class="hljs-attr">founders</span>: [
    {
      <span class="hljs-comment">// the current user</span>
      address: accounts[<span class="hljs-number">0</span>],
      <span class="hljs-attr">reputation</span>: web3.toWei(<span class="hljs-number">1000</span>),
      <span class="hljs-attr">tokens</span>: web3.toWei(<span class="hljs-number">40</span>)
    },
    {
      <span class="hljs-attr">address</span>: anyAddress,
      <span class="hljs-attr">reputation</span>: web3.toWei(<span class="hljs-number">1000</span>),
      <span class="hljs-attr">tokens</span>: web3.toWei(<span class="hljs-number">40</span>)
    },
    {
      <span class="hljs-attr">address</span>: anyAddress,
      <span class="hljs-attr">reputation</span>: web3.toWei(<span class="hljs-number">1000</span>),
      <span class="hljs-attr">tokens</span>: web3.toWei(<span class="hljs-number">40</span>)
    }
  ]
});
</code></pre>
				<h3 id="create-a-new-dao-with-schemes">Create a new DAO with schemes</h3>
				<p>Create a new DAO with schemes by including a &quot;schemes&quot; array.  This will register the schemes with all default permissions and voting machines. See <code>SchemesConfig</code> and <code>SchemeConfig</code>.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> newDao = <span class="hljs-keyword">await</span> DAO.new({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"My New DAO"</span>,
  <span class="hljs-attr">tokenName</span>: <span class="hljs-string">"My new Token"</span>,
  <span class="hljs-attr">tokenSymbol</span>: <span class="hljs-string">"MNT"</span>,
  <span class="hljs-attr">schemes</span>: [
    { <span class="hljs-attr">name</span>: <span class="hljs-string">"SchemeRegistrar"</span> },
    { <span class="hljs-attr">name</span>: <span class="hljs-string">"UpgradeScheme"</span> },
    { <span class="hljs-attr">name</span>: <span class="hljs-string">"GlobalConstraintRegistrar"</span> }
  ]
});
</code></pre>
				<h3 id="create-a-new-dao-overriding-the-default-voting-machine">Create a new DAO overriding the default voting machine</h3>
				<p>By default, <code>DAO.new</code> assigns the AbsoluteVote voting machine to each scheme, with default parameter values for AbsoluteVote.  You may override the voting machine&#39;s default parameters by adding a &quot;votingMachineParams&quot; element, either at the root level or on individual schemes. You can also specify that you want to assign a completely different type of voting machine, such as GenesisProtocol.  See <code>NewDaoVotingMachineConfig</code> and <code>SchemesConfig</code>.</p>
				<h4 id="root-level-applying-to-all-schemes">Root-level, applying to all schemes</h4>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> newDao = <span class="hljs-keyword">await</span> DAO.new({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"My New DAO"</span>,
  <span class="hljs-attr">tokenName</span>: <span class="hljs-string">"My new Token"</span>,
  <span class="hljs-attr">tokenSymbol</span>: <span class="hljs-string">"MNT"</span>,
  <span class="hljs-attr">votingMachineParams</span>: {
    <span class="hljs-attr">votePerc</span>: <span class="hljs-number">45</span>,
    <span class="hljs-attr">ownerVote</span>:<span class="hljs-literal">false</span>
  }
});
</code></pre>
				<h4 id="with-alternate-absolutevote-voting-machine-address">With alternate AbsoluteVote voting machine address</h4>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> newDao = <span class="hljs-keyword">await</span> DAO.new({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"My New DAO"</span>,
  <span class="hljs-attr">tokenName</span>: <span class="hljs-string">"My new Token"</span>,
  <span class="hljs-attr">tokenSymbol</span>: <span class="hljs-string">"MNT"</span>,
  <span class="hljs-attr">votingMachineParams</span>: {
    <span class="hljs-attr">votePerc</span>: <span class="hljs-number">45</span>,
    <span class="hljs-attr">ownerVote</span>:<span class="hljs-literal">false</span>
    votingMachineAddress: anAddress
  }
});
</code></pre>
				<h4 id="with-genesisprotocol">With GenesisProtocol</h4>
				<p>This will tell <code>DAO.new</code> to assign the Arc.js-deployed GenesisProtocol voting machine to every scheme, using default GenesisProtocol parameters.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> newDao = <span class="hljs-keyword">await</span> DAO.new({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"My New DAO"</span>,
  <span class="hljs-attr">tokenName</span>: <span class="hljs-string">"My new Token"</span>,
  <span class="hljs-attr">tokenSymbol</span>: <span class="hljs-string">"MNT"</span>,
  <span class="hljs-attr">votingMachineParams</span>: {
    <span class="hljs-attr">votingMachineName</span>: <span class="hljs-string">"GenesisProtocol"</span>
  }
});
</code></pre>
				<p><strong>Important note</strong>:  If you want to use GenesisProtocol on <em>any</em> scheme, you must also add GenesisProtocol as scheme on the DAO itself (see <a href="#create-a-new-dao-with-schemes">Create a new DAO with schemes</a>).</p>
				<h4 id="scheme-specific">Scheme-specific</h4>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> newDao = <span class="hljs-keyword">await</span> DAO.new({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"My New DAO"</span>,
  <span class="hljs-attr">tokenName</span>: <span class="hljs-string">"My new Token"</span>,
  <span class="hljs-attr">tokenSymbol</span>: <span class="hljs-string">"MNT"</span>,
  <span class="hljs-attr">schemes</span>: [
    { <span class="hljs-attr">name</span>: <span class="hljs-string">"SchemeRegistrar"</span> },
    { <span class="hljs-attr">name</span>: <span class="hljs-string">"UpgradeScheme"</span> },
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">"GlobalConstraintRegistrar"</span>,
      <span class="hljs-attr">votingMachineParams</span>: {
        <span class="hljs-attr">votePerc</span>: <span class="hljs-number">30</span>,
      }
    }
  ]
});
</code></pre>
				<h3 id="create-a-new-dao-with-a-non-universal-controller">Create a new DAO with a non-Universal Controller</h3>
				<p>Create a DAO using the DAOstack <code>Controller</code> contract by passing <code>false</code> for <code>universalController</code>.</p>
				<p>For more information about choosing between Universal an Single Controller, see <a href="https://daostack.github.io/arc/generated-docs/controller/UController/#universal-vs-single-controller">this article</a>.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> newDao = <span class="hljs-keyword">await</span> DAO.new({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"My New DAO"</span>,
  <span class="hljs-attr">tokenName</span>: <span class="hljs-string">"My new Token"</span>,
  <span class="hljs-attr">tokenSymbol</span>: <span class="hljs-string">"MNT"</span>,
  <span class="hljs-attr">universalController</span>: <span class="hljs-literal">false</span>
});
</code></pre>
				<h3 id="create-a-new-dao-with-a-non-default-daocreator-scheme">Create a new DAO with a non-default DaoCreator scheme</h3>
				<p>Create a DAO using an alternative <code>DaoCreator</code> scheme by passing its address for <code>daoCreatorScheme</code>.  The alternative scheme must implement the same interface as the Arc <code>DaoCreator</code> contract.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> newDao = <span class="hljs-keyword">await</span> DAO.new({
  <span class="hljs-attr">name</span>: <span class="hljs-string">"My New DAO"</span>,
  <span class="hljs-attr">tokenName</span>: <span class="hljs-string">"My new Token"</span>,
  <span class="hljs-attr">tokenSymbol</span>: <span class="hljs-string">"MNT"</span>,
  <span class="hljs-attr">daoCreatorScheme</span>: anAddress
});
</code></pre>
				<h3 id="get-a-previously-created-dao">Get a previously-created DAO</h3>
				<p>Get a previously-created DAO using the avatar address:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> dao = <span class="hljs-keyword">await</span> DAO.at(daoAvatarAddress);
</code></pre>
				<h3 id="get-the-daostack-genesis-dao">Get the DAOstack Genesis DAO</h3>
				<p>The DAOstack DAO is named &quot;Genesis&quot;.  Obtain it like this:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> genesisDao = <span class="hljs-keyword">await</span> DAO.getGenesisDao();
</code></pre>
				<h2 id="using-the-arc-contracts">Using the Arc Contracts</h2>
				<p>Arc.js wraps every Arc contract in a JavaScript &quot;wrapper&quot; class.  Every wrapper class inherits from <code>ExtendTruffleContract</code> which provides a common set of functions in addition to all of the functions implemented by the specific Arc contract being wrapped.</p>
				<h3 id="categories-of-arc-contracts">Categories of Arc Contracts</h3>
				<p>Arc contracts and associated Arc.js contract wrapper classes can be categorized as follows:</p>
				<h4 id="schemes">Schemes</h4>
				<ul>
					<li>SchemeRegistrar</li>
					<li>UpgradeScheme</li>
					<li>GlobalConstraintRegistrar</li>
					<li>ContributionReward</li>
					<li>VoteInOrganizationScheme</li>
					<li>VestingScheme</li>
					<li>GenesisProtocol</li>
				</ul>
				<h4 id="voting-machines">Voting Machines</h4>
				<ul>
					<li>AbsoluteVote</li>
					<li>GenesisProtocol</li>
				</ul>
				<h4 id="global-constraints">Global Constraints</h4>
				<ul>
					<li>TokenCapGC</li>
				</ul>
				<h4 id="others">Others</h4>
				<ul>
					<li>DaoCreator</li>
				</ul>
				<p>You can pull those categorizations into your code as follows:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> ArcJs <span class="hljs-keyword">from</span> <span class="hljs-string">'@daostack/arc.js'</span>;
<span class="hljs-keyword">const</span> arcJsWrapperCategories = <span class="hljs-keyword">await</span> ArcJs.Contracts.getDeployedContracts();
</code></pre>
				<p>You may find that <code>getDeployedContracts()</code> is somewhat time-consuming to run the first time because it fetches all of the wrappers from the chain, but it does cache its results and run much faster thereafter.</p>
				<p><code>getDeployedContracts()</code> returns a object that contains a wrapper factory and address of each deployed contract that has a wrapper, keyed by the contract <code>name</code>.  See <code>ArcDeployedContracts</code>.  </p>
				<p>The following sections show how you can obtain contract wrappers using factories, names and addresses.</p>
				<h3 id="obtain-the-names-and-addresses-of-a-dao-s-schemes">Obtain the names and addresses of a DAO&#39;s schemes</h3>
				<p>You may obtain the names and addresses of all of the schemes that are registered with a DAO using <code>DAO.getSchemes</code>:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> daoSchemeInfos = <span class="hljs-keyword">await</span> myDao.getSchemes();
</code></pre>
				<p>Or info about a single scheme:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> daoSchemeInfos =  = <span class="hljs-keyword">await</span> myDao.getSchemes(<span class="hljs-string">"UpgradeScheme"</span>);
<span class="hljs-keyword">const</span> upgradeSchemeInfo = daoSchemeInfos[<span class="hljs-number">0</span>];
</code></pre>
				<p><code>DAO.getSchemes</code> returns a object that contains <code>name</code> and <code>address</code> properties.  See <code>DaoSchemeInfo</code>.</p>
				<p>The following sections show how you can get contract wrappers using names and addresses.</p>
				<h3 id="obtain-an-arc-js-wrapper-by-its-arc-contract-name">Obtain an Arc.js wrapper by its Arc contract name</h3>
				<p>Recall from <a href="#categories-of-arc-contracts">Categories of Arc Contracts</a> that <code>getDeployedContracts()</code> returns categorized factories, names and addresses of Arc contracts that have wrappers. That information can be used to obtain the wrappers themselves.</p>
				<h4 id="the-deployed-contract">The deployed contract</h4>
				<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> ArcJs <span class="hljs-keyword">from</span> <span class="hljs-string">'@daostack/arc.js'</span>;
<span class="hljs-keyword">const</span> upgradeScheme = <span class="hljs-keyword">await</span> ArcJs.Contracts.getScheme(<span class="hljs-string">"UpgradeScheme"</span>);
</code></pre>
				<h4 id="at-a-specific-address">At a specific address</h4>
				<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> ArcJs <span class="hljs-keyword">from</span> <span class="hljs-string">'@daostack/arc.js'</span>;
<span class="hljs-keyword">const</span> upgradeScheme = <span class="hljs-keyword">await</span> ArcJs.Contracts.getScheme(<span class="hljs-string">"UpgradeScheme"</span>, anAddress);
</code></pre>
				<h4 id="via-the-dao">Via the DAO</h4>
				<p>The identical method is available on the DAO class:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> upgradeScheme = <span class="hljs-keyword">await</span> DAO.getScheme(<span class="hljs-string">"UpgradeScheme"</span>);
</code></pre>
				<h3 id="obtain-a-wrapper-using-the-wrapper-s-factory-class">Obtain a wrapper using the wrapper&#39;s factory class</h3>
				<p>Each wrapper has a factory that provides static <code>.new()</code>, <code>.deployed()</code> and <code>.at()</code> methods.  These methods are implemented by <code>ContractWrapperFactory</code>.</p>
				<p>Examples of their use:</p>
				<h4 id="deployed">deployed</h4>
				<p>Obtain the instance of the contract as deployed by Arc.js:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { UpgradeScheme } <span class="hljs-keyword">from</span> <span class="hljs-string">"@daostack/arc.js"</span>;
<span class="hljs-keyword">const</span> deployedContract = <span class="hljs-keyword">await</span> UpgradeScheme.deployed();
</code></pre>
				<h4 id="new">new</h4>
				<p>Call <code>new()</code> to migrate a new instance of the contract:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { UpgradeScheme } <span class="hljs-keyword">from</span> <span class="hljs-string">"@daostack/arc.js"</span>;
<span class="hljs-keyword">const</span> newInstance = <span class="hljs-keyword">await</span> UpgradeScheme.new();
</code></pre>
				<h4 id="at">at</h4>
				<p>Obtain the wrapper from a given address:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { UpgradeScheme } <span class="hljs-keyword">from</span> <span class="hljs-string">"@daostack/arc.js"</span>;
<span class="hljs-keyword">const</span> newInstance = <span class="hljs-keyword">await</span> UpgradeScheme.at(anAddress);
</code></pre>
				<h3 id="obtain-any-arc-contract-using-utils-requirecontract">Obtain any Arc contract using Utils.requireContract</h3>
				<p>Not all Arc contracts have been given wrapper classes, for example, <code>Avatar</code>, <code>UController</code> and many more.  But you can obtain a raw TruffleContract for any contract, enabling you to work with the contract:</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { Utils } <span class="hljs-keyword">from</span> <span class="hljs-string">"@daostack/arc.js"</span>;
<span class="hljs-keyword">const</span> truffleContract = <span class="hljs-keyword">await</span> Utils.requireContract(<span class="hljs-string">"Avatar"</span>);
</code></pre>
				<h3 id="obtain-a-dao-scheme-s-parameters">Obtain a DAO scheme&#39;s parameters</h3>
				<p>Although you can always register your own schemes with a DAO, whether they be totally custom non-Arc schemes, or redeployed Arc schemes, by default a DAO is created with Arc schemes that are universal in the sense that the code is implemented in one place, without redundancy.  But every scheme registered with a DAO is configured with its own DAO-scoped parameter values, and references DAO-scoped data, such as proposals. All are stored in the DAO&#39;s controller where each universal scheme is able to find them.  (If the controller is the Universal Controller then the parameters and data are keyed by the DAO&#39;s avatar address.)</p>
				<p>If you want to obtain a DAO scheme&#39;s parameters, you can do it like this, using a method on the DAO class:</p>
				<pre><code><span class="hljs-attribute">const schemeParameters</span> = DAO.getSchemeParameters(schemeWrapper);
</code></pre><p>This will return an array of the scheme&#39;s parameter values where the order of values in the array corresponds to the order in which they are defined in the structure in which they are stored in the scheme contract.</p>
				<h2 id="working-with-arc-js-scripts">Working with Arc.js Scripts</h2>
				<p>Arc.js contains a set of scripts for building, publishing, running tests and migrating contracts to any network.  These scripts are meant to be accessible and readily usable by client applications.</p>
				<p>Typically an application will run an Arc.js script by prefixing <code>npm explore @daostack/arc.js --</code>  to the Arc.js script.  For example, to run the Arc.js script <code>npm start test.ganache.run</code> from your application, you would run:</p>
				<pre><code>npm explore @daostack/arc<span class="hljs-selector-class">.js</span> -- npm start test<span class="hljs-selector-class">.ganache</span><span class="hljs-selector-class">.run</span>
</code></pre><p>All of the scripts are defined and documented in the package-scripts.js file.  You have already seen their <a href="#setting-up-a-testnet-with-arc-contracts">most typical use in an application context</a>.</p>
				<p>See also  <a href="#running-against-a-ganache-database">Running Against a Ganache Database</a>, <a href="#deploying-to-other-testnets">Deploying to Other Testnets</a> and <a href="#run-lint-and-tests">Run Lint and Tests</a></p>
				<h2 id="deploying-to-other-testnets">Deploying to Other Testnets</h2>
				<p>The &quot;network&quot; environment variable defines which network arc.js understands you to be deploying to when you run the &quot;migrateContracts&quot; script.  For safety it assumes a different HTTP port for each network. Can be &quot;live&quot; (the mainnet), &quot;kovan&quot; or &quot;ganache&quot;.  The default is &quot;ganache&quot;.</p>
				<h2 id="running-against-a-ganache-database">Running Against a Ganache Database</h2>
				<p>It can be very handy to run against a ganache database that persists the state of the chain across instances of ganache.  The file package-scripts.js contains a number of scripts to help you manage this process.  Most simply, follow the steps above for building and running the application, except when you bring up ganache, use this script:</p>
				<p>On Linux and others <a href="http://github.com/daostack/arc.js/issues/64">until runAsync is fixed for Linux</a>, run this in a separate window of your own creation:</p>
				<pre><code class="lang-shell">npm explore @daostack/arc.js -- npm start test.ganacheDb.run
</code></pre>
				<p>On Windows:</p>
				<pre><code class="lang-shell">npm explore @daostack/arc.js -- npm start test.ganacheDb.runAsync
</code></pre>
				<h2 id="run-lint-and-tests">Run Lint and Tests</h2>
				<p>To run lint and the Arc.js tests, run the following script in the Arc.js root folder:</p>
				<pre><code><span class="hljs-built_in">npm</span> install
<span class="hljs-built_in">npm</span> start test.ganache.runAsync
<span class="hljs-built_in">npm</span> start migrateContracts
<span class="hljs-built_in">npm</span> test
</code></pre><h3 id="stop-on-the-first-failure">Stop on the first failure</h3>
				<pre><code><span class="hljs-built_in">npm</span> start test.bail
</code></pre><h3 id="run-an-individual-test-module">Run an individual test module</h3>
				<p>Sometimes you want to run just a single test module:</p>
				<pre><code><span class="hljs-built_in">npm</span> start <span class="hljs-string">"test.automated test/[filename]"</span>
</code></pre><p>To bail:</p>
				<pre><code><span class="hljs-built_in">npm</span> start <span class="hljs-string">"test.automated test/[filename] --bail"</span>
</code></pre><h2 id="contribute-to-arc-js">Contribute to Arc.js</h2>
				<p>PRs are welcome but please first consult with the <a href="https://github.com/daostack/arc/blob/master/CONTRIBUTING.md">Contribution guide</a>.</p>
				<p>Join us on <a href="https://daostack.slack.com/">Slack</a>!</p>
				<p>Join us on <a href="https://t.me/daostackcommunity">Telegram</a>!</p>
				<h2 id="security">Security</h2>
				<p>DAOstack Arc.js is still on its alpha version.  It is meant to provide secure, tested and community-audited code, but please use common sense when doing anything that deals with real money! We take no responsibility for your implementation decisions and any security problem you might experience.</p>
				<h2 id="license">License</h2>
				<p>This is an open source project (<a href="https://github.com/daostack/arc.js/blob/master/LICENSE">GPL license</a>).</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class="label tsd-is-external">
						<span>Externals</span>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_extendtrufflecontract_.html">"<wbr>Extend<wbr>Truffle<wbr>Contract"</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_config_.html">"config"</a>
					</li>
					<li class=" tsd-kind-external-module tsd-is-external">
						<a href="modules/_utils_.html">"utils"</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer>
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>